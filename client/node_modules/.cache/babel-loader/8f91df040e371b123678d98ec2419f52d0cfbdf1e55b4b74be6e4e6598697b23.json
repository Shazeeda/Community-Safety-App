{"ast":null,"code":"import React,{useState}from\"react\";import{api}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:3001';const SubmitIncident=()=>{const[description,setDescription]=useState(\"\");const[location,setLocation]=useState(\"\");const handleSubmit=async()=>{try{const response=await fetch(`${API_URL}/incidents/submit`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:`Bearer ${localStorage.getItem(\"token\")}`},body:JSON.stringify({description,location})});if(!response.ok){throw new Error(\"Network response was not ok\");}alert(\"Incident submitted successfully\");}catch(error){alert(\"Submission failed\");}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Submit Incident\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Description\",onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Location\",onChange:e=>setLocation(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Submit\"})]});};export default SubmitIncident;","map":{"version":3,"names":["React","useState","api","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","SubmitIncident","description","setDescription","location","setLocation","handleSubmit","response","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","ok","Error","alert","error","children","type","placeholder","onChange","e","target","value","onClick"],"sources":["/Users/shazeedamohamed/Desktop/Community Safety App/client/src/components/SubmitIncident.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { api } from '../services/api';  \nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001';\n\n\nconst SubmitIncident = () => {\n  const [description, setDescription] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n\n  const handleSubmit = async () => {\n    try {\n      const response = await fetch(`${API_URL}/incidents/submit`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        body: JSON.stringify({ description, location }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Network response was not ok\");\n      }\n\n      alert(\"Incident submitted successfully\");\n    } catch (error) {\n      alert(\"Submission failed\");\n    }\n  };\n\n  return (\n    <div>\n      <h2>Submit Incident</h2>\n      <input\n        type=\"text\"\n        placeholder=\"Description\"\n        onChange={(e) => setDescription(e.target.value)}\n      />\n      <input\n        type=\"text\"\n        placeholder=\"Location\"\n        onChange={(e) => setLocation(e.target.value)}\n      />\n      <button onClick={handleSubmit}>Submit</button>\n    </div>\n  );\n};\n\nexport default SubmitIncident;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,GAAG,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACtC,KAAM,CAAAC,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,uBAAuB,CAGxE,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACa,QAAQ,CAAEC,WAAW,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGX,OAAO,mBAAmB,CAAE,CAC1DY,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EACxD,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEd,WAAW,CAAEE,QAAS,CAAC,CAChD,CAAC,CAAC,CAEF,GAAI,CAACG,QAAQ,CAACU,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAChD,CAEAC,KAAK,CAAC,iCAAiC,CAAC,CAC1C,CAAE,MAAOC,KAAK,CAAE,CACdD,KAAK,CAAC,mBAAmB,CAAC,CAC5B,CACF,CAAC,CAED,mBACEvB,KAAA,QAAAyB,QAAA,eACE3B,IAAA,OAAA2B,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB3B,IAAA,UACE4B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,aAAa,CACzBC,QAAQ,CAAGC,CAAC,EAAKtB,cAAc,CAACsB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CACjD,CAAC,cACFjC,IAAA,UACE4B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,UAAU,CACtBC,QAAQ,CAAGC,CAAC,EAAKpB,WAAW,CAACoB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAC9C,CAAC,cACFjC,IAAA,WAAQkC,OAAO,CAAEtB,YAAa,CAAAe,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC3C,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}