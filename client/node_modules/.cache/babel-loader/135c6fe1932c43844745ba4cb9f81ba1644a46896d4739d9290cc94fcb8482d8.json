{"ast":null,"code":"const API_URL='http://localhost:3001';const api={get:async endpoint=>{try{const res=await fetch(`${API_URL}${endpoint}`);if(!res.ok)throw new Error(\"Failed to fetch data\");return await res.json();}catch(error){console.error(\"API GET error:\",error);return{error:error.message};}},post:async(endpoint,data)=>{try{const res=await fetch(`${API_URL}${endpoint}`,{method:'POST',headers:{'Content-Type':'application/json',Authorization:`Bearer ${localStorage.getItem('token')||''}`},body:JSON.stringify(data)});if(!res.ok)throw new Error(\"Failed to send data\");return await res.json();}catch(error){console.error(\"API POST error:\",error);return{error:error.message};}},delete:async endpoint=>{try{const res=await fetch(`${API_URL}${endpoint}`,{method:'DELETE',headers:{Authorization:`Bearer ${localStorage.getItem('token')||''}`}});if(!res.ok)throw new Error(\"Failed to delete data\");return await res.json();}catch(error){console.error(\"API DELETE error:\",error);return{error:error.message};}}};export default api;","map":{"version":3,"names":["API_URL","api","get","endpoint","res","fetch","ok","Error","json","error","console","message","post","data","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","delete"],"sources":["/Users/shazeedamohamed/Desktop/Community Safety App/client/src/services/api.js"],"sourcesContent":["const API_URL = 'http://localhost:3001';\n\nconst api = {\n  get: async (endpoint) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`);\n      if (!res.ok) throw new Error(\"Failed to fetch data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API GET error:\", error);\n      return { error: error.message };\n    }\n  },\n\n  post: async (endpoint, data) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        },\n        body: JSON.stringify(data),\n      });\n      if (!res.ok) throw new Error(\"Failed to send data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API POST error:\", error);\n      return { error: error.message };\n    }\n  },\n\n  delete: async (endpoint) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        }\n      });\n      if (!res.ok) throw new Error(\"Failed to delete data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API DELETE error:\", error);\n      return { error: error.message };\n    }\n  }\n};\n\n\nexport default api;\n"],"mappings":"AAAA,KAAM,CAAAA,OAAO,CAAG,uBAAuB,CAEvC,KAAM,CAAAC,GAAG,CAAG,CACVC,GAAG,CAAE,KAAO,CAAAC,QAAQ,EAAK,CACvB,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGL,OAAO,GAAGG,QAAQ,EAAE,CAAC,CAChD,GAAI,CAACC,GAAG,CAACE,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,sBAAsB,CAAC,CACpD,MAAO,MAAM,CAAAH,GAAG,CAACI,IAAI,CAAC,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACtC,MAAO,CAAEA,KAAK,CAAEA,KAAK,CAACE,OAAQ,CAAC,CACjC,CACF,CAAC,CAEDC,IAAI,CAAE,KAAAA,CAAOT,QAAQ,CAAEU,IAAI,GAAK,CAC9B,GAAI,CACF,KAAM,CAAAT,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGL,OAAO,GAAGG,QAAQ,EAAE,CAAE,CAC/CW,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAI,EAAE,EAC9D,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACR,IAAI,CAC3B,CAAC,CAAC,CACF,GAAI,CAACT,GAAG,CAACE,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,qBAAqB,CAAC,CACnD,MAAO,MAAM,CAAAH,GAAG,CAACI,IAAI,CAAC,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAAC,CACvC,MAAO,CAAEA,KAAK,CAAEA,KAAK,CAACE,OAAQ,CAAC,CACjC,CACF,CAAC,CAEDW,MAAM,CAAE,KAAO,CAAAnB,QAAQ,EAAK,CAC1B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGL,OAAO,GAAGG,QAAQ,EAAE,CAAE,CAC/CW,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAI,EAAE,EAC9D,CACF,CAAC,CAAC,CACF,GAAI,CAACd,GAAG,CAACE,EAAE,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,uBAAuB,CAAC,CACrD,MAAO,MAAM,CAAAH,GAAG,CAACI,IAAI,CAAC,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,CAAEA,KAAK,CAAC,CACzC,MAAO,CAAEA,KAAK,CAAEA,KAAK,CAACE,OAAQ,CAAC,CACjC,CACF,CACF,CAAC,CAGD,cAAe,CAAAV,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}