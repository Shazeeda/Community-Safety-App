{"ast":null,"code":"const API_URL = 'http://localhost:3002';\nconst api = {\n  get: async endpoint => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`);\n      if (!res.ok) throw new Error(\"Failed to fetch data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API GET error:\", error);\n      return {\n        error: error.message\n      };\n    }\n  },\n  post: async (endpoint, data) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        },\n        body: JSON.stringify(data)\n      });\n      if (!res.ok) throw new Error(\"Failed to send data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API POST error:\", error);\n      return {\n        error: error.message\n      };\n    }\n  },\n  delete: async endpoint => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        }\n      });\n      if (!res.ok) throw new Error(\"Failed to delete data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API DELETE error:\", error);\n      return {\n        error: error.message\n      };\n    }\n  }\n};\nexport default api;","map":{"version":3,"names":["API_URL","api","get","endpoint","res","fetch","ok","Error","json","error","console","message","post","data","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","delete"],"sources":["/Users/shazeedamohamed/Desktop/Community Safety App/client/src/services/api.js"],"sourcesContent":["const API_URL = 'http://localhost:3002';\n\nconst api = {\n  get: async (endpoint) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`);\n      if (!res.ok) throw new Error(\"Failed to fetch data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API GET error:\", error);\n      return { error: error.message };\n    }\n  },\n\n  post: async (endpoint, data) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        },\n        body: JSON.stringify(data),\n      });\n      if (!res.ok) throw new Error(\"Failed to send data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API POST error:\", error);\n      return { error: error.message };\n    }\n  },\n\n  delete: async (endpoint) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        }\n      });\n      if (!res.ok) throw new Error(\"Failed to delete data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API DELETE error:\", error);\n      return { error: error.message };\n    }\n  }\n};\n\n\nexport default api;\n"],"mappings":"AAAA,MAAMA,OAAO,GAAG,uBAAuB;AAEvC,MAAMC,GAAG,GAAG;EACVC,GAAG,EAAE,MAAOC,QAAQ,IAAK;IACvB,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,GAAGG,QAAQ,EAAE,CAAC;MAChD,IAAI,CAACC,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACpD,OAAO,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtC,OAAO;QAAEA,KAAK,EAAEA,KAAK,CAACE;MAAQ,CAAC;IACjC;EACF,CAAC;EAEDC,IAAI,EAAE,MAAAA,CAAOT,QAAQ,EAAEU,IAAI,KAAK;IAC9B,IAAI;MACF,MAAMT,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,GAAGG,QAAQ,EAAE,EAAE;QAC/CW,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;QAC9D,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACR,IAAI;MAC3B,CAAC,CAAC;MACF,IAAI,CAACT,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MACnD,OAAO,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,OAAO;QAAEA,KAAK,EAAEA,KAAK,CAACE;MAAQ,CAAC;IACjC;EACF,CAAC;EAEDW,MAAM,EAAE,MAAOnB,QAAQ,IAAK;IAC1B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,GAAGG,QAAQ,EAAE,EAAE;QAC/CW,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;QAC9D;MACF,CAAC,CAAC;MACF,IAAI,CAACd,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MACrD,OAAO,MAAMH,GAAG,CAACI,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC,OAAO;QAAEA,KAAK,EAAEA,KAAK,CAACE;MAAQ,CAAC;IACjC;EACF;AACF,CAAC;AAGD,eAAeV,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}