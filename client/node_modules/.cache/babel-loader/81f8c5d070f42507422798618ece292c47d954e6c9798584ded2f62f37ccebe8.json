{"ast":null,"code":"export const API_URL = 'http://localhost:3002';\nconst api = {\n  get: async endpoint => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`);\n      console.log(res);\n      if (!res.ok) throw new Error(\"Failed to fetch data\");\n      const data = await res.json();\n      return data;\n    } catch (error) {\n      console.error(\"API GET error:\", error);\n      return {\n        error: error.message\n      };\n    }\n  },\n  post: async (endpoint, data) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        },\n        body: JSON.stringify(data)\n      });\n      if (!res.ok) throw new Error(\"Failed to send data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API POST error:\", error);\n      return {\n        error: error.message\n      };\n    }\n  },\n  delete: async endpoint => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        }\n      });\n      if (!res.ok) throw new Error(\"Failed to delete data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API DELETE error:\", error);\n      return {\n        error: error.message\n      };\n    }\n  }\n};\nexport default api;","map":{"version":3,"names":["API_URL","api","get","endpoint","res","fetch","console","log","ok","Error","data","json","error","message","post","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","delete"],"sources":["/Users/shazeedamohamed/Desktop/Community Safety App/client/src/services/api.js"],"sourcesContent":["export const API_URL = 'http://localhost:3002';\n\nconst api = {\n  get: async (endpoint) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`);\n      console.log(res)\n      if (!res.ok) throw new Error(\"Failed to fetch data\");\n      const data =  await res.json();\n      return data\n    } catch (error) {\n      console.error(\"API GET error:\", error);\n      return { error: error.message };\n    }\n  },\n\n  post: async (endpoint, data) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        },\n        body: JSON.stringify(data),\n      });\n      if (!res.ok) throw new Error(\"Failed to send data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API POST error:\", error);\n      return { error: error.message };\n    }\n  },\n\n  delete: async (endpoint) => {\n    try {\n      const res = await fetch(`${API_URL}${endpoint}`, {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token') || ''}`\n        }\n      });\n      if (!res.ok) throw new Error(\"Failed to delete data\");\n      return await res.json();\n    } catch (error) {\n      console.error(\"API DELETE error:\", error);\n      return { error: error.message };\n    }\n  }\n};\n\n\nexport default api;\n"],"mappings":"AAAA,OAAO,MAAMA,OAAO,GAAG,uBAAuB;AAE9C,MAAMC,GAAG,GAAG;EACVC,GAAG,EAAE,MAAOC,QAAQ,IAAK;IACvB,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,GAAGG,QAAQ,EAAE,CAAC;MAChDG,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;MAChB,IAAI,CAACA,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACpD,MAAMC,IAAI,GAAI,MAAMN,GAAG,CAACO,IAAI,CAAC,CAAC;MAC9B,OAAOD,IAAI;IACb,CAAC,CAAC,OAAOE,KAAK,EAAE;MACdN,OAAO,CAACM,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtC,OAAO;QAAEA,KAAK,EAAEA,KAAK,CAACC;MAAQ,CAAC;IACjC;EACF,CAAC;EAEDC,IAAI,EAAE,MAAAA,CAAOX,QAAQ,EAAEO,IAAI,KAAK;IAC9B,IAAI;MACF,MAAMN,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,GAAGG,QAAQ,EAAE,EAAE;QAC/CY,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;QAC9D,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACZ,IAAI;MAC3B,CAAC,CAAC;MACF,IAAI,CAACN,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,qBAAqB,CAAC;MACnD,OAAO,MAAML,GAAG,CAACO,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdN,OAAO,CAACM,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,OAAO;QAAEA,KAAK,EAAEA,KAAK,CAACC;MAAQ,CAAC;IACjC;EACF,CAAC;EAEDU,MAAM,EAAE,MAAOpB,QAAQ,IAAK;IAC1B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGL,OAAO,GAAGG,QAAQ,EAAE,EAAE;QAC/CY,MAAM,EAAE,QAAQ;QAChBC,OAAO,EAAE;UACPC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;QAC9D;MACF,CAAC,CAAC;MACF,IAAI,CAACf,GAAG,CAACI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MACrD,OAAO,MAAML,GAAG,CAACO,IAAI,CAAC,CAAC;IACzB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdN,OAAO,CAACM,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzC,OAAO;QAAEA,KAAK,EAAEA,KAAK,CAACC;MAAQ,CAAC;IACjC;EACF;AACF,CAAC;AAGD,eAAeZ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}